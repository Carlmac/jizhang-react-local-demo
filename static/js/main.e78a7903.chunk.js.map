{"version":3,"sources":["icons sync /.svg$","icons/labels.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/stats.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/generateId.tsx","Hooks/useUpdate.tsx","Hooks/useTags.tsx","components/CenterWrap.tsx","components/Gap16px.tsx","views/Tags.tsx","components/ReuseBtn.tsx","components/ReuseInput.tsx","views/TagEdit.tsx","views/Money/TagsSection.tsx","views/Money/NotesSection.tsx","views/Money/CatSection.tsx","views/Money/NumberPadSection.tsx","Hooks/useRecords.tsx","views/Money.tsx","views/Stats.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","console","log","Icon","props","name","children","className","rest","cls","xlinkHref","NavWrap","styled","nav","Nav","exact","replace","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","Number","parseInt","window","localStorage","getItem","generateId","setItem","toString","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","tags_","JSON","parse","length","stringify","findTag","filter","t","findTagIndex","result","i","getTagName","tag","addTag","prompt","updateTag","removeTag","CenterWrap","Gap16px","TagList","ol","Btn","button","Tags","onClick","ReuseBtn","Label","label","ReuseInput","headText","Topbar","header","InputWrap","TagEdit","idString","useParams","history","useHistory","goBack","type","placeholder","value","onChange","target","Wrap","section","TagsSection","selectedTagIds","selected","tagId","indexOf","onToggle","NotesSection","note","text","CatSection","catMap","catList","cat","c","NumberPadSection","output","setOutput","setOutput_","slice","parseFloat","clearOutput","input","textContent","includes","onSubmit","useRecords","records","setRecords","addRecord","record","amount","alert","recordedAt","Date","toISOString","MyLayout","CatWrap","defaultRecord","tagIds","Money","setValue","obj","Item","DateHeader","h3","Stats","setCat","selectedRecords","r","hash","key","day","format","push","arr","entries","sort","a","b","d","date","records_","isSame","subtract","join","AppWrap","NoMatch","App","path","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e78a7903.chunk.js","sourcesContent":["var map = {\n\t\"./labels.svg\": 41,\n\t\"./left.svg\": 42,\n\t\"./money.svg\": 43,\n\t\"./right.svg\": 44,\n\t\"./stats.svg\": 45\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 40;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"labels\",\n  \"use\": \"labels-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"labels\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M804.562373 0c80.797476 0 146.283903 64.07235 146.283903 143.114419v833.135589A48.273688 48.273688 0 0 1 902.084975 1023.987322c-6.826582 0-13.555642-1.414078-19.797088-4.144711l-362.39399-157.547763a19.894611 19.894611 0 0 0-15.798661 0l-362.39399 157.547763a49.200153 49.200153 0 0 1-64.364917-24.185605A46.810849 46.810849 0 0 1 73.142857 976.201247V143.114419C73.142857 64.121111 138.629284 0 219.42676 0h585.135613z m0 95.425866H219.42676a48.273688 48.273688 0 0 0-48.761301 46.371997v761.066387l293.786839-127.754609a119.367665 119.367665 0 0 1 92.987801-0.926464l2.096736 0.877703L853.323674 902.815489V143.16318a48.224927 48.224927 0 0 0-47.395985-47.688553H804.562373z m-196.361759 386.482072a50.077856 50.077856 0 1 1 0 100.204474H318.265918a50.077856 50.077856 0 1 1 0-100.204474h289.934696z m97.522602-195.63034a50.077856 50.077856 0 1 1 0 100.204474H318.265918a50.077856 50.077856 0 0 1 0-100.204474h387.457298z\\\" p-id=\\\"3417\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"left\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M672 160a32 32 0 0 1 22.72 54.72L397.12 512l297.6 297.28a32.128 32.128 0 0 1-45.44 45.44l-320-320a32 32 0 0 1 0-45.44l320-320A32 32 0 0 1 672 160z\\\" p-id=\\\"583\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"money\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M741.939 95.754l-415.984 0c-131.539 0-157.866 30.505-157.985 155.152 4.099-0.146 4.099 0.608 4.099 0.608l-3.466 0c-34.467 0-44.053 28.16-44.053 62.877 0 34.724 9.586 62.874 44.053 62.874l-0.231-1.043 0 87.646 0.231-5.419c-34.467 0-44.053 28.151-44.053 62.867 0 34.733 9.586 62.877 44.053 62.877l-0.231-6.385 0 96.411 0.231-8.834c-34.467 0-44.053 28.144-44.053 62.858 0 34.733 2.26 70.631 36.728 70.631 0 0 0 0 6.445-0.068 0.933 109.403 25.781 129.585 158.233 129.585l415.984 0c115.763 0 153.895-27.271 153.895-136.519l0-541.113c0-132.162-34.573-155.007-153.895-155.007zM676.716 560.278c22.632 0 34.427 12.154 35.478 35.059 1.053 22.938-10.835 37.147-38.995 37.043-16.098-0.034-92.892-1.985-92.892-1.985l0 78.881c0 22.923-21.73 26.91-44.509 26.91-22.774 0-43.138-3.987-43.138-26.91l0-78.881-96.409 0c-22.586 0-35.059-12.137-35.059-35.059 0-15.236-0.298-5.153-0.205-6.283 1.739-21.329 13.781-28.776 35.264-28.776l96.41 0 0-52.588-96.41 0c-16.597 0-32.969-3.989-32.969-41.88 0-22.929 13.943-37 36.728-37l73.452 0-50.122-46.383-23.419-23.588c-15.185-15.296-15.526-39.304-2.038-55.61 0.805-0.976 1.139-2.191 2.038-3.115 16.109-16.212 42.197-16.212 58.305 0l3.074 3.115 75.003 75.527 78.069-78.642c16.108-16.212 42.188-16.212 58.287 0 16.1 16.21 16.1 42.522 0 58.725l-70.648 69.971 73.456 0c22.775 0 36.727 14.071 36.727 37 0 22.93-12.702 41.88-35.478 41.88l-96.41 0 0 52.588 96.41 0z\\\" p-id=\\\"3803\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"right\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M352 864a32 32 0 0 1-22.72-54.72L626.88 512l-297.6-297.28a32.128 32.128 0 0 1 45.44-45.44l320 320a32 32 0 0 1 0 45.44l-320 320a32 32 0 0 1-22.72 9.28z\\\" p-id=\\\"2021\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"stats\",\n  \"use\": \"stats-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"stats\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M902.573115 538.712435l60.111478 4.035763C946.843521 778.856364 748.861121 963.768529 511.970002 963.768529 262.851599 963.768529 60.231471 761.148401 60.231471 512.029998c0-235.205218 183.526247-433.066625 417.888514-450.473605l4.456739 60.051482C279.535621 136.665992 120.463942 308.145945 120.463942 512.029998c0 215.870351 175.635709 391.50706 391.50606 391.50706 205.329969 0 376.869918-160.216612 390.603113-364.824623zM1023.940004 451.737531v30.116235l-30.176232 1.02394h-450.653595V0L573.286409 0.059996C821.801848 0.601965 1023.940004 203.282089 1023.940004 451.737531z m-61.075422-29.091295C949.434369 231.711423 795.661379 76.735504 603.341648 61.556393v361.088843H962.863582z\\\" p-id=\\\"4724\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from \"react\";\r\nimport cls from \"classnames\";\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext)\r\n\r\ntry {\r\n  importAll(require.context('icons', true, /\\.svg$/))\r\n} catch (e) {\r\n  console.log(e)\r\n}\r\n\r\ntype IconProps = {\r\n  name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: IconProps) => {\r\n  const {name, children, className, ...rest} = props\r\n  return (\r\n    <svg className={cls('icon', className)} {...rest}>\r\n      { props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Icon","import styled from \"styled-components\";\r\nimport {\r\n  NavLink\r\n} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport Icon from \"./Icon\";\r\n\r\nconst NavWrap = styled.nav`\r\n  line-height: 24px;\r\n  background: #fff;\r\n  box-shadow: 0 0 3px rgba(0,0,0,0.25);\r\n  > ul {\r\n    display: flex;\r\n    justify-content: center;\r\n    > li {\r\n      width: 33.33%;\r\n      text-align: center;\r\n      a {\r\n        padding: 4px 0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        .icon {\r\n          width: 24px;\r\n          height: 24px;\r\n        }\r\n        &.selected {\r\n          color: red;\r\n          .icon {\r\n            fill: red;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrap>\r\n      <ul>\r\n        <li>\r\n          <NavLink exact replace to=\"/tags\" activeClassName=\"selected\">\r\n            <Icon name=\"labels\" />\r\n            标签\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink replace to=\"/money\" activeClassName=\"selected\">\r\n            <Icon name=\"money\" />\r\n            记账\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink replace to=\"/stats\" activeClassName=\"selected\">\r\n            <Icon name=\"stats\" />\r\n            统计\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrap>\r\n  )\r\n}\r\n\r\nexport default Nav","import React, {useEffect, useRef} from \"react\";\r\nimport Nav from \"./Nav\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n`\r\n\r\ntype Props = {\r\n  className?: string\r\n  scrollTop?: number\r\n}\r\n\r\nconst Layout: React.FC<Props> = (props) => {\r\n  const mainRef = useRef<HTMLDivElement>(null)\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (!mainRef.current) {return}\r\n      mainRef.current.scrollTop = props.scrollTop!\r\n    }, 0)\r\n  }, [props.scrollTop])\r\n  return (\r\n    <Wrapper>\r\n      <Main ref={mainRef} className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nLayout.defaultProps = {\r\n  scrollTop: 0\r\n}\r\n\r\nexport default Layout","// let id = 0\r\n// const generateId = () => {\r\n//   id += 1\r\n//   return id\r\n// }\r\n//\r\n// export {generateId}\r\n\r\nlet id: number = Number.parseInt(window.localStorage.getItem('_idMax') || '0') || 0\r\n\r\nfunction generateId() {\r\n  id++;\r\n  window.localStorage.setItem('_idMax', id.toString())\r\n  return id\r\n}\r\n\r\nexport {generateId}","import {useEffect, useRef} from \"react\";\r\n\r\n\r\nconst useUpdate = (fn: () => void, dependency: any[]) => {\r\n\r\n  // tags 从 undefined 变成 [] 时触发useEffect，也会被写入，因此加一个条件判断\r\n  const count = useRef(0)\r\n  useEffect(() => {\r\n    count.current += 1\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn()\r\n    }\r\n  }, [fn, dependency])\r\n}\r\n\r\nexport {useUpdate}","import {useEffect, useState} from \"react\";\r\nimport {generateId} from \"lib/generateId\";\r\n// import userEvent from \"@testing-library/user-event\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\nconst useTags = () => {\r\n\r\n  const [tags, setTags] = useState<{id: number, name: string}[]>([])\r\n\r\n  // componentDidMount\r\n  useEffect(() => {\r\n    let tags_ = JSON.parse(window.localStorage.getItem('tags') || '[]')\r\n    if (tags_.length === 0) {\r\n      tags_ = [\r\n        {id: generateId(), name: '衣'},\r\n        {id: generateId(), name: '食'},\r\n        {id: generateId(), name: '住'},\r\n        {id: generateId(), name: '行'}\r\n      ]\r\n    }\r\n    setTags(tags_)\r\n  }, [])\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('tags', JSON.stringify(tags))\r\n  }, tags)\r\n\r\n  const findTag = (id: number) => {\r\n    return tags.filter(t => t.id === id)[0]\r\n  }\r\n\r\n  const findTagIndex = (id: number) => {\r\n    let result = -1\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (tags[i].id === id) {\r\n        result = i\r\n        break\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  const getTagName = (id: number) => {\r\n    const tag = tags.filter(t => t.id === id)[0]\r\n    return tag ? tag.name : ''\r\n  }\r\n\r\n  const addTag = () => {\r\n    const name = window.prompt('请输入标签名称')\r\n    if (name !== null && name !== '') {\r\n      const id = generateId()\r\n      setTags([...tags, {id, name}])\r\n    }\r\n  }\r\n\r\n  const updateTag = (id: number, {name}: {name: string}) => {\r\n    setTags(tags.map(t => t.id === id ? {id, name} : t))\r\n  }\r\n\r\n  const removeTag = (id: number) => {\r\n    setTags(tags.filter((tag) => tag.id !== id))\r\n  }\r\n\r\n  return {tags, setTags, findTag, findTagIndex, getTagName, addTag, updateTag, removeTag}\r\n}\r\n\r\nexport {useTags}\r\n","import styled from \"styled-components\";\r\n\r\nconst CenterWrap = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`\r\n\r\nexport {CenterWrap}","import styled from \"styled-components\";\r\n\r\nconst Gap16px = styled.div`\r\n  height: 16px;\r\n`\r\n\r\nexport {Gap16px}","import Layout from \"components/Layout\";\r\nimport React from \"react\";\r\nimport {\r\n  Link,\r\n} from \"react-router-dom\";\r\nimport {useTags} from \"Hooks/useTags\";\r\nimport styled from \"styled-components\";\r\nimport Icon from \"components/Icon\";\r\nimport {CenterWrap} from \"components/CenterWrap\";\r\nimport {Gap16px} from \"components/Gap16px\";\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d5;\r\n    line-height: 20px;\r\n    margin: 0 16px;\r\n    > a {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 12px 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst Btn = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: #767676;\r\n  border-radius: 4px;\r\n  color: white;\r\n`\r\n\r\nfunction Tags() {\r\n\r\n  const {tags, addTag} = useTags()\r\n\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {\r\n          tags.map(tag =>\r\n            <li\r\n              key={tag.id}\r\n            >\r\n              <Link to={'/tags/' + tag.id}>\r\n                <span className={\"nowrap-fix\"}>{tag.name}</span>\r\n                <Icon name={\"right\"}/>\r\n              </Link>\r\n            </li>\r\n          )\r\n        }\r\n      </TagList>\r\n      <CenterWrap>\r\n        <Gap16px/>\r\n        <Gap16px/>\r\n        <Gap16px/>\r\n        <Btn onClick={addTag}>创建标签</Btn>\r\n      </CenterWrap>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Tags","import styled from \"styled-components\";\r\n\r\nconst ReuseBtn = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: #767676;\r\n  border-radius: 4px;\r\n  color: white;\r\n`\r\n\r\nexport {ReuseBtn}","import styled from \"styled-components\";\r\nimport React from \"react\";\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > span {\r\n    margin-right: 16px;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  > input {\r\n    display: block;\r\n    width: 100%;\r\n    height: 44px;\r\n    border: none;\r\n    background: none;\r\n  }\r\n`\r\n\r\ntype Props = {\r\n  headText: string\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\n\r\nconst ReuseInput: React.FC<Props> = (props) => {\r\n\r\n  const {headText, children, ...rest} = props\r\n\r\n  return (\r\n    <Label>\r\n      <span>{headText}</span>\r\n      <input {...rest}/>\r\n    </Label>\r\n  )\r\n}\r\n\r\nexport {ReuseInput}","import React from \"react\";\r\nimport {useTags} from \"Hooks/useTags\";\r\nimport {useParams, useHistory} from \"react-router-dom\"\r\nimport Layout from \"components/Layout\";\r\nimport Icon from \"../components/Icon\";\r\nimport {ReuseBtn} from \"../components/ReuseBtn\";\r\nimport styled from \"styled-components\";\r\nimport {ReuseInput} from \"../components/ReuseInput\";\r\nimport {CenterWrap} from \"../components/CenterWrap\";\r\nimport {Gap16px} from \"../components/Gap16px\";\r\n\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`\r\n\r\nconst InputWrap = styled.div`\r\n  background: white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`\r\n\r\ntype Params = {\r\n  id: string\r\n}\r\n\r\nconst TagEdit: React.FC = () => {\r\n\r\n  const {findTag, updateTag, removeTag} = useTags()\r\n\r\n  let {id: idString} = useParams<Params>()\r\n\r\n  const tag = findTag(Number.parseInt(idString))\r\n\r\n  const history = useHistory()\r\n  const onClickBack = () => {\r\n    history.goBack()\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <Topbar>\r\n        <Icon name={'left'} onClick={onClickBack}/>\r\n        <span>编辑标签</span>\r\n        <Icon/>\r\n      </Topbar>\r\n      { tag ?\r\n        // 该标签存在再渲染\r\n        <>\r\n          <InputWrap>\r\n            <div>\r\n              <ReuseInput\r\n                headText={\"标签名\"}\r\n                type={\"text\"}\r\n                placeholder={\"在这里输入标签名\"}\r\n                value={tag.name}\r\n                onChange={(e) => {\r\n                  updateTag(tag.id, {name: e.target.value})\r\n                }}\r\n              />\r\n            </div>\r\n          </InputWrap>\r\n          <CenterWrap>\r\n            <Gap16px/>\r\n            <Gap16px/>\r\n            <Gap16px/>\r\n            <ReuseBtn onClick={() => {removeTag(tag.id)}}>删除标签</ReuseBtn>\r\n          </CenterWrap>\r\n        </>\r\n      :\r\n        // 该标签不存在，渲染提示\r\n        <CenterWrap><div>该标签不存在</div></CenterWrap>\r\n      }\r\n    </Layout>\r\n  )\r\n};\r\n\r\nexport {TagEdit}","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport {useTags} from \"Hooks/useTags\";\r\n\r\nconst Wrap = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  flex-grow: 1;\r\n  background: #ffffff;\r\n  padding: 12px 16px;\r\n\r\n  > ol {\r\n    margin: 0 -12px;\r\n\r\n    > li {\r\n      background: #d9d9d9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected {\r\n        background: orangered;\r\n      }\r\n    }\r\n  }\r\n\r\n  > button {\r\n    margin-top: 8px;\r\n    padding: 2px 4px;\r\n    background: none;\r\n    border: none;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n  }\r\n`\r\n\r\ntype Props = {\r\n  selected: number[],\r\n  onToggle: (selected: number[]) => void\r\n}\r\n\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n\r\n  const {tags, addTag} = useTags()\r\n  const selectedTagIds = props.selected\r\n\r\n  const toggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId)\r\n    if (index >= 0) {\r\n      props.onToggle(selectedTagIds.filter(t => t !== tagId))\r\n    } else {\r\n      props.onToggle([...selectedTagIds, tagId])\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrap>\r\n      <ol>\r\n        {\r\n          tags.map(tag =>\r\n            <li\r\n              key={tag.id}\r\n              onClick={() => toggleTag(tag.id)}\r\n              className={selectedTagIds.indexOf(tag.id) >= 0 ? 'selected' : ''}\r\n            >\r\n              {tag.name}\r\n            </li>\r\n          )\r\n        }\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport {TagsSection}","import styled from \"styled-components\";\r\nimport React, {ChangeEventHandler} from \"react\";\r\nimport {ReuseInput} from \"components/ReuseInput\";\r\n\r\nconst Wrap = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 14px 16px;\r\n  font-size: 14px;\r\n`\r\n\r\ntype Props = {\r\n  text: string,\r\n  onChange: (note: string) => void\r\n}\r\n\r\nconst NotesSection: React.FC<Props> = (props) => {\r\n\r\n  const note = props.text\r\n\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n      props.onChange(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <Wrap>\r\n      <ReuseInput\r\n        headText={\"备注\"}\r\n        type={\"text\"}\r\n        placeholder={\"在这里添加备注\"}\r\n        value={note}\r\n        onChange={onChange}\r\n      />\r\n        {/*<span>备注</span>*/}\r\n        {/*<input*/}\r\n        {/*  type=\"text\"*/}\r\n        {/*  placeholder=\"在这里添加备注\"*/}\r\n        {/*  ref = {inputRef}*/}\r\n        {/*  defaultValue={note}*/}\r\n        {/*  onBlur={onBlur}*/}\r\n        {/*/>*/}\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport {NotesSection}","import styled from \"styled-components\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Wrap = styled.section`\r\n  font-size: 24px;\r\n  > ul {\r\n    display: flex;\r\n    //background: #c4c4c4;\r\n    > li {\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n      &.selected:after {\r\n        content: '';\r\n        display: block;\r\n        width: 100%;\r\n        height: 3px;\r\n        position: absolute;\r\n        left: 0;\r\n        bottom: 0;\r\n        background: #333;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\ntype Props = {\r\n  cat: '-' | '+',\r\n  onToggle: (cat: '-' | '+') => void\r\n}\r\n\r\nconst CatSection: React.FC<Props> = (props) => {\r\n\r\n  const catMap = {'-': '支出', '+': '收入'}\r\n  type CatKeys = keyof typeof catMap\r\n  const [catList] = useState<CatKeys[]>(['-', '+'])\r\n  // const [cat, setCat] = useState('-')\r\n  const cat = props.cat\r\n\r\n  return (\r\n    <Wrap>\r\n      <ul>\r\n        {catList.map(c =>\r\n          <li\r\n            key={c}\r\n            className={cat === c ? 'selected' : ''}\r\n            onClick={() => {props.onToggle(c)}}\r\n          >\r\n            {catMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport {CatSection}","import styled from \"styled-components\";\nimport React, {useState} from \"react\";\n\nconst Wrap = styled.section`\n  display: flex;\n  flex-direction: column;\n  > .output {\n    background: #fff;\n    font-size: 36px;\n    line-height: 72px;\n    text-align: right;\n    padding: 0 16px;\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25), \n                inset 0 5px 5px -5px rgba(0,0,0,0.25);\n  }\n  > .pad {\n    > button {\n      float: left;\n      width: 25%;\n      height: 64px;\n      border: none;\n      font-size: 18px;\n      &.ok-btn {\n        float: right;\n        height: 128px;\n      }\n      &.zero-btn {\n        width: 50%;\n      }\n      &:nth-child(1) {background: #f2f2f2}\n      &:nth-child(2), &:nth-child(5) {background: #e0e0e0}\n      &:nth-child(3), &:nth-child(6), &:nth-child(9) {background: #d3d3d3}\n      &:nth-child(4), &:nth-child(7), &:nth-child(10) {background: #c1c1c1}\n      &:nth-child(8), &:nth-child(11), &:nth-child(13) {background: #b8b8b8}\n      &:nth-child(12) {background: #9a9a9a}\n      &:nth-child(14) {background: #a9a9a9}\n    }\n  }\n`\n\ntype Props = {\n  output: number,\n  onChange: (output: number) => void,\n  onSubmit?: (output: number) => void\n}\n\nconst NumberPadSection: React.FC<Props> = (props) => {\n\n  const [output, setOutput] = useState(props.output.toString())\n\n  const setOutput_ = (output: string) => {\n    let value: string\n    if (output.length > 16) {\n      value = output.slice(0, 16)\n    } else if(output.length === 0) {\n      value = '0'\n    } else {\n      value = output\n    }\n    setOutput(value)\n    props.onChange(Number.parseFloat(value))\n  }\n\n  const deleteOutput = () => {\n    if (output.length === 1) {\n      setOutput_('0')\n    } else {\n      setOutput_(output.slice(0, -1))\n    }\n  }\n\n  const clearOutput = () => {\n    setOutput_('0')\n  }\n\n  type InputString = '0'|'1'|'2'|'3'|'4'|'5'|'6'|'7'|'8'|'9'|'.'|'删除'|'清空'|'OK'\n\n  const onBtnClicked = (e: React.MouseEvent) => {\n    const input = (e.target as HTMLButtonElement).textContent as InputString\n    if (input === null) {return}\n\n    // 如果点击”删除“\n    if (input === '删除') {\n      deleteOutput()\n      return\n    }\n\n    // 如果点击”清空“\n    if (input === '清空') {\n      clearOutput()\n      return\n    }\n\n    // 如果点击”OK“\n    if (input === 'OK') {\n      if (props.onSubmit) {\n        props.onSubmit(Number.parseFloat(input))\n        clearOutput()\n      }\n      return\n    }\n\n    // 长度限制\n    if (output.length === 16) {return}\n\n    // 处理 0~9 和 .\n    if (output === '0') {\n      if (input === '0') {\n        return\n      }\n      if (input !== '.') {\n        setOutput_(input)\n      } else if (input === '.') {\n        setOutput_(output + input)\n      }\n    } else if (output.includes('.') && input === '.') {\n      return\n    } else {\n      setOutput_(output + input)\n    }\n  }\n\n  return(\n    <Wrap>\n      <div className=\"output\">{output}</div>\n      <div className=\"pad\" onClick={onBtnClicked}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className={\"ok-btn\"}>OK</button>\n        <button className={\"zero-btn\"}>0</button>\n        <button>.</button>\n      </div>\n    </Wrap>\n  )\n}\n\nexport {NumberPadSection}","import {useEffect, useState} from \"react\";\r\nimport {useUpdate} from \"./useUpdate\";\r\n\r\nexport type RecordItem = {\r\n  tagIds: number[],\r\n  note: string,\r\n  cat: '-' | '+',\r\n  amount: number,\r\n  recordedAt?: string\r\n}\r\n\r\nconst useRecords = () => {\r\n\r\n  const [records, setRecords] = useState<RecordItem[]>([])\r\n\r\n  // componentDidMount\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'))\r\n  }, [])\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records))\r\n  }, records)\r\n\r\n  const addRecord = (record: RecordItem) => {\r\n    // record.recordedAt = (new Date()).toISOString()\r\n    // setRecords([...records, record])\r\n    if (record.amount <= 0) {\r\n      window.alert('请输入正确金额')\r\n      return false\r\n    }\r\n    setRecords([...records, {...record, recordedAt: (new Date()).toISOString()}])\r\n    return true\r\n  }\r\n\r\n  return {records, addRecord}\r\n}\r\n\r\nexport {useRecords}","import Layout from \"components/Layout\";\r\nimport React, {useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {TagsSection} from \"./Money/TagsSection\";\r\nimport {NotesSection} from \"./Money/NotesSection\";\r\nimport {CatSection} from \"./Money/CatSection\";\r\nimport {NumberPadSection} from \"./Money/NumberPadSection\";\r\nimport {useRecords} from \"Hooks/useRecords\";\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst CatWrap = styled.div`\r\n  background: #c4c4c4;\r\n`\r\n\r\ntype Category = '-' | '+'\r\n\r\nconst defaultRecord = {\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  cat: '-' as Category,\r\n  amount: 0\r\n}\r\n\r\nfunction Money() {\r\n\r\n  const [value, setValue] = useState(defaultRecord)\r\n\r\n  const onChange = (obj: Partial<typeof value>) => {\r\n    setValue({\r\n      ...value,\r\n      ...obj\r\n    })\r\n  }\r\n\r\n  const {addRecord} = useRecords()\r\n\r\n  const submitOutput = () => {\r\n    if(addRecord(value)) {\r\n      setValue(defaultRecord)\r\n      window.alert('保存成功')\r\n    } else {\r\n      window.alert('保存失败')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MyLayout scrollTop={9999}>\r\n      {/*测试用*/}\r\n      {/*{JSON.stringify(value)}*/}\r\n      <TagsSection\r\n        selected={value.tagIds}\r\n        onToggle={(tagIds) => onChange({tagIds})}\r\n      />\r\n      <NotesSection\r\n        text={value.note}\r\n        onChange={\r\n          (note) => onChange({note})\r\n        }\r\n      />\r\n      <CatWrap>\r\n        <CatSection\r\n          cat={value.cat}\r\n          onToggle={\r\n            (cat) => onChange({cat})\r\n          }\r\n        />\r\n      </CatWrap>\r\n      <NumberPadSection\r\n        output={value.amount}\r\n        onChange={\r\n          (amount) => onChange({amount})\r\n        }\r\n        onSubmit={\r\n          submitOutput\r\n        }\r\n      />\r\n    </MyLayout>\r\n  );\r\n}\r\n\r\nexport default Money","import Layout from \"components/Layout\";\r\nimport React, {useState} from \"react\";\r\nimport {CatSection} from \"./Money/CatSection\";\r\nimport styled from \"styled-components\";\r\nimport {RecordItem, useRecords} from \"Hooks/useRecords\";\r\nimport {useTags} from \"Hooks/useTags\";\r\nimport day from \"dayjs\";\r\n\r\nconst CatWrap = styled.div`\r\n  background: white;\r\n`\r\n\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  font-size: 18px;\r\n  > .notes {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999\r\n  }\r\n`\r\n\r\nconst DateHeader = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`\r\n\r\nfunction Stats() {\r\n\r\n  const [cat, setCat] = useState<'-'|'+'>('-')\r\n\r\n  const {records} = useRecords()\r\n\r\n  const {getTagName} = useTags()\r\n\r\n  const selectedRecords = records.filter(r => r.cat === cat)\r\n\r\n  const hash: {[key: string]: RecordItem[]} = {}\r\n\r\n  selectedRecords.forEach(r => {\r\n    const key = day(r.recordedAt).format('YYYY-MM-DD')\r\n    if (!(key in hash)) {\r\n      hash[key] = []\r\n    }\r\n    hash[key].push(r)\r\n  })\r\n\r\n  const arr = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] > b[0]) return -1\r\n    if (a[0] < b[0]) return 1\r\n    if (a[0] === b[0]) return 0\r\n    return 0\r\n  })\r\n\r\n  const beautifyDate = (d: string) => {\r\n    if (day(d).isSame(new Date(), 'day')) {\r\n      return '今天'\r\n    } else if (day(d).isSame(day(new Date()).subtract(1, 'day'), 'day')) {\r\n      return '昨天'\r\n    } else {\r\n      return day(d).format('YYYY年M月D日')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <CatWrap>\r\n        <CatSection\r\n          cat={cat}\r\n          onToggle={\r\n            (cat) => setCat(cat)\r\n          }\r\n        />\r\n      </CatWrap>\r\n      {arr.map(([date, records_]) => {\r\n        return (\r\n          <div key={date}>\r\n            <DateHeader>{beautifyDate(date)}</DateHeader>\r\n            <div>\r\n              {records_.map(r => {\r\n                return (\r\n                  <Item key={r.recordedAt}>\r\n                    <div className=\"tags\">\r\n                      <span>{r.tagIds.length === 0 ? '无标签' : r.tagIds.map(tagId => getTagName(tagId)).join('，')}</span>\r\n                    </div>\r\n                    <div className=\"notes\">\r\n                      {r.note}\r\n                    </div>\r\n                    <div className=\"amount\">\r\n                      {'￥' + r.amount.toString()}\r\n                    </div>\r\n                  </Item>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Stats","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  // Link,\n  Redirect\n} from \"react-router-dom\";\nimport \"index.scss\"\nimport Layout from \"components/Layout\";\nimport Tags from \"./views/Tags\";\nimport {TagEdit} from \"./views/TagEdit\"\nimport Money from \"./views/Money\";\nimport Stats from \"./views/Stats\";\nimport styled from \"styled-components\";\n\nconst AppWrap = styled.div`\n  color: #333;\n`\n\nfunction App() {\n  return (\n    <AppWrap>\n      <Router>\n        <Switch>\n          <Route exact path=\"/tags\">\n            <Tags/>\n          </Route>\n          <Route exact path=\"/tags/:id\">\n            <TagEdit/>\n          </Route>\n          <Route exact path=\"/money\">\n            <Money/>\n          </Route>\n          <Route exact path=\"/stats\">\n            <Stats/>\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\"/>\n          <Route path=\"*\">\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrap>\n  );\n}\n\nfunction NoMatch() {\n  return (\n    <Layout>\n      <h2>当前页面不存在</h2>\n    </Layout>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}